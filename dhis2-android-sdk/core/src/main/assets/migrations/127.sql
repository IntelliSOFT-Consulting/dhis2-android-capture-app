# Add aggregationType (ANDROSDK-1547) to TrackedEntityAttribute;

ALTER TABLE TrackedEntityAttribute RENAME TO TrackedEntityAttribute_Old;
CREATE TABLE TrackedEntityAttribute (_id INTEGER PRIMARY KEY AUTOINCREMENT, uid TEXT NOT NULL UNIQUE, code TEXT, name TEXT, displayName TEXT, created TEXT, lastUpdated TEXT, shortName TEXT, displayShortName TEXT, description TEXT, displayDescription TEXT, pattern TEXT, sortOrderInListNoProgram INTEGER, optionSet TEXT, valueType TEXT, expression TEXT, programScope INTEGER, displayInListNoProgram INTEGER, generated INTEGER, displayOnVisitSchedule INTEGER, orgunitScope INTEGER, uniqueProperty INTEGER, inherit INTEGER, formName TEXT, fieldMask TEXT, color TEXT, icon TEXT, displayFormName TEXT, aggregationType TEXT, FOREIGN KEY (optionSet) REFERENCES OptionSet (uid) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED);
INSERT INTO TrackedEntityAttribute (_id, uid, code, name, displayName, created, lastUpdated, shortName, displayShortName, description, displayDescription, pattern, sortOrderInListNoProgram, optionSet, valueType, expression, programScope, displayInListNoProgram, generated, displayOnVisitSchedule, orgunitScope, uniqueProperty, inherit, formName, fieldMask, color, icon, displayFormName) SELECT _id, uid, code, name, displayName, created, lastUpdated, shortName, displayShortName, description, displayDescription, pattern, sortOrderInListNoProgram, optionSet, valueType, expression, programScope, displayInListNoProgram, generated, displayOnVisitSchedule, orgunitScope, uniqueProperty, inherit, formName, fieldMask, color, icon, displayFormName FROM TrackedEntityAttribute_Old;
DROP TABLE IF EXISTS TrackedEntityAttribute_Old
